<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>INsight</title>
</head>

<body>
<h1>Tentative Visualization</h1>
<canvas id="network" width="500" height="500"></canvas>
<script src="https://d3js.org/d3.v5.min.js"></script>

<script>
var graph = {
	nodes: [
		{country: "China", toa: 0},
		{country: "Korea", toa: 10},
		{country: "USA", toa: 20},
		{country: "UK", toa: 30},
		{country: "Taiwan", toa: 40},
		{country: "Vietnam", toa: 50},
		{country: "Canada", toa: 60},
		{country: "Italy", toa: 70},
	]
};
var canvas = d3.select("#network"),
	width = canvas.attr("width"),
	height = canvas.attr("height"),
	r = 20,
	ctx = canvas.node().getContext("2d"),
	simulation = d3.forceSimulation()
		.force("x", d3.forceX(width / 2))
		.force("y", d3.forceY(height / 2))
		.force("collide", d3.forceCollide(r + 1))
		.force("charge", d3.forceManyBode()
			.strength(-200))
		.on("tick", update);
//graph.nodes.forEach(function (d) {
//	d.x = Math.random() * width;
//	d.y = Math.random() * height;
//});

simulation.nodes(graph.nodes);

function update() {
	ctx.clearRect(0, 0, width, height);

	ctx.beginPath();
	graph.nodes.forEach(drawNode);
	ctx.fill();
}
function drawNode(d) {
	ctx.moveTo(d.x, d.y);
	ctx.arc(d.x, d.y, r, 0, 2 * Math.PI);
}
update();
</script>
</body>
</html>
